(* Content-type: application/vnd.wolfram.mathematica *)

(*** Wolfram Notebook File ***)
(* http://www.wolfram.com/nb *)

(* CreatedBy='Wolfram 14.2' *)

(*CacheID: 234*)
(* Internal cache information:
NotebookFileLineBreakTest
NotebookFileLineBreakTest
NotebookDataPosition[       154,          7]
NotebookDataLength[      7503,        182]
NotebookOptionsPosition[      6672,        159]
NotebookOutlinePosition[      7094,        176]
CellTagsIndexPosition[      7051,        173]
WindowFrame->Normal*)

(* Beginning of Notebook Content *)
Notebook[{
Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"TranscribeToIPAEnglish", "[", "text_String", "]"}], ":=", 
   RowBox[{"Module", "[", 
    RowBox[{
     RowBox[{"{", 
      RowBox[{
      "bodyTemplate", ",", "bodyString", ",", "response", ",", "html", ",", 
       "pattern"}], "}"}], ",", 
     RowBox[{
      RowBox[{"bodyTemplate", "=", 
       RowBox[{
       "StringTemplate", 
        "[", "\"\<text_to_transcribe=`text`%0D%0A&submit=Show+transcription&\
output_dialect=am&output_style=only_tr&preBracket=&postBracket=&speech_\
support=1&ak_bib=1751397776593&ak_bfs=1751399187679&ak_bkpc=1&ak_bkp=76%3B&ak_\
bmc=127%3B181%2C84133%3B45266%2C-181%3B141%2C162%3B55%2C6420%3B&ak_bmcc=5&ak_\
bmk=&ak_bck=&ak_bmmc=11&ak_btmc=0&ak_bsc=0&ak_bte=&ak_btec=0&ak_bmm=3211%\
2C219%3B426%2C28%3B104%2C57%3B66%2C330%3B8%2C7%3B50%2C37%3B51%2C151%3B25%\
2C294%3B28%2C154%3B58%2C23%3B58%2C364%3B\>\"", "]"}]}], ";", 
      "\[IndentingNewLine]", 
      RowBox[{"bodyString", "=", 
       RowBox[{"bodyTemplate", "[", 
        RowBox[{"<|", 
         RowBox[{"\"\<text\>\"", "->", "text"}], "|>"}], "]"}]}], ";", 
      "\[IndentingNewLine]", 
      RowBox[{"response", "=", 
       RowBox[{"URLRead", "[", 
        RowBox[{"HTTPRequest", "[", 
         RowBox[{"\"\<https://tophonetics.com/\>\"", ",", 
          RowBox[{"<|", 
           RowBox[{
            RowBox[{"\"\<Method\>\"", "->", "\"\<POST\>\""}], ",", 
            RowBox[{"\"\<Headers\>\"", "->", 
             RowBox[{"{", 
              RowBox[{
               
               RowBox[{"\"\<User-Agent\>\"", 
                "->", "\"\<Mozilla/5.0 (Windows NT 10.0; Win64; x64; \
rv:126.0) Gecko/20100101 Firefox/126.1\>\""}], ",", 
               
               RowBox[{"\"\<Accept\>\"", 
                "->", "\"\<text/html,application/xhtml+xml,application/xml;q=\
0.9,*/*;q=0.8\>\""}], ",", 
               
               RowBox[{"\"\<Accept-Language\>\"", 
                "->", "\"\<en-US,en;q=0.5\>\""}], ",", 
               
               RowBox[{"\"\<Accept-Encoding\>\"", 
                "->", "\"\<gzip, deflate, br, zstd\>\""}], ",", 
               
               RowBox[{"\"\<Content-Type\>\"", 
                "->", "\"\<application/x-www-form-urlencoded\>\""}], ",", 
               
               RowBox[{"\"\<Origin\>\"", 
                "->", "\"\<https://tophonetics.com\>\""}], ",", 
               RowBox[{"\"\<DNT\>\"", "->", "\"\<1\>\""}], ",", 
               RowBox[{"\"\<Connection\>\"", "->", "\"\<keep-alive\>\""}], ",", 
               
               RowBox[{"\"\<Referer\>\"", 
                "->", "\"\<https://tophonetics.com/\>\""}], ",", 
               RowBox[{"\"\<Cookie\>\"", "->", "\"\<output_dialect=am\>\""}], 
               ",", 
               
               RowBox[{"\"\<Upgrade-Insecure-Requests\>\"", 
                "->", "\"\<1\>\""}], ",", 
               RowBox[{"\"\<Sec-Fetch-Dest\>\"", "->", "\"\<document\>\""}], ",", 
               RowBox[{"\"\<Sec-Fetch-Mode\>\"", "->", "\"\<navigate\>\""}], ",", 
               
               RowBox[{"\"\<Sec-Fetch-Site\>\"", 
                "->", "\"\<same-origin\>\""}], ",", 
               RowBox[{"\"\<Sec-Fetch-User\>\"", "->", "\"\<?1\>\""}], ",", 
               RowBox[{"\"\<Sec-GPC\>\"", "->", "\"\<1\>\""}], ",", 
               RowBox[{"\"\<Priority\>\"", "->", "\"\<u=0, i\>\""}]}], 
              "}"}]}], ",", 
            RowBox[{"\"\<Body\>\"", "->", "bodyString"}]}], "|>"}]}], "]"}], 
        "]"}]}], ";", "\[IndentingNewLine]", 
      RowBox[{"html", "=", 
       RowBox[{"Import", "[", 
        RowBox[{"response", ",", "\"\<Plaintext\>\""}], "]"}]}], ";", 
      "\[IndentingNewLine]", 
      RowBox[{"pattern", "=", 
       RowBox[{
       "RegularExpression", 
        "[", "\"\<feature\\\\.\\\\s*(.*?)\\\\s*Examples\>\"", "]"}]}], ";", 
      "\[IndentingNewLine]", 
      RowBox[{"Quiet", "@", 
       RowBox[{"Check", "[", 
        RowBox[{
         RowBox[{
          RowBox[{"StringCases", "[", 
           RowBox[{"html", ",", 
            RowBox[{"pattern", "->", "\"\<$1\>\""}]}], "]"}], "[", 
          RowBox[{"[", "1", "]"}], "]"}], ",", 
         RowBox[{"Missing", "[", "\"\<Target phrase not found\>\"", "]"}]}], 
        "]"}]}]}]}], "]"}]}], "\n"}]], "Input",
 CellChangeTimes->{{3.96039401908228*^9, 3.9603940190823727`*^9}, {
   3.960394086275838*^9, 3.9603940864354477`*^9}, {3.960394209854555*^9, 
   3.9603942156756353`*^9}, 3.960398535955562*^9},
 CellLabel->"In[1]:=",ExpressionUUID->"3b898245-f0f1-4af7-8bb2-8041c693ba7b"],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"TranscribeToIPAEnglish", "[", "\"\<\>\"", "]"}]], "Input",
 CellChangeTimes->{{3.960394020603529*^9, 3.960394039886085*^9}, {
  3.960394159664337*^9, 3.960394166194812*^9}, {3.9603942119236383`*^9, 
  3.960394217988822*^9}, {3.9603978836815443`*^9, 3.960397923208239*^9}, {
  3.960414812261468*^9, 3.960414840536798*^9}, {3.960492844129393*^9, 
  3.960492846469655*^9}},ExpressionUUID->"ff79a4c0-23f5-4dd0-943b-\
e1761a9dd35e"],

Cell[BoxData["\<\"\:02c8pra\:026am\:0259r\"\>"], "Output",
 CellChangeTimes->{{3.960394026811903*^9, 3.960394040870255*^9}, 
   3.960394087948452*^9, {3.960394160972405*^9, 3.960394167146021*^9}, {
   3.960394213067443*^9, 3.960394219003161*^9}, 3.960397598779402*^9, {
   3.960397888643272*^9, 3.960397924289514*^9}, 3.960413502936763*^9, 
   3.960413543258191*^9, {3.960414813674149*^9, 3.960414841600257*^9}, 
   3.9604927729209127`*^9},
 CellLabel->"Out[2]=",ExpressionUUID->"fa48666e-aba1-460a-8b01-e24ae008ce5c"]
}, Open  ]],

Cell[CellGroupData[{

Cell["echo hi", "ExternalLanguage",
 TaggingRules-><|
  "ExternalEvaluateData" -> <|
    "System" -> "Shell", "ID" -> "DefaultShellSession"|>|>,
 CellEvaluationLanguage->"Shell",
 CellChangeTimes->{{3.9604928673340397`*^9, 3.960493072719988*^9}},
 CellLabel->"In[11]:=",ExpressionUUID->"87314b05-8b00-4c05-82bf-abf0d4bbc5e3"],

Cell[BoxData["$Aborted"], "Output",
 CellChangeTimes->{{3.960492972888948*^9, 3.96049301973454*^9}, 
   3.960493204883089*^9},
 CellLabel->"Out[11]=",ExpressionUUID->"e4166ce7-a674-404e-b3d0-b2236ce6fbfa"]
}, Open  ]]
},
WindowSize->{1080, 625.5},
WindowMargins->{{0, Automatic}, {Automatic, 0}},
Magnification:>0.8 Inherited,
FrontEndVersion->"14.2 for Linux x86 (64-bit) (March 16, 2025)",
StyleDefinitions->"Default.nb",
ExpressionUUID->"50397f1f-6c8a-4a9c-b533-45215cff8928"
]
(* End of Notebook Content *)

(* Internal cache information *)
(*CellTagsOutline
CellTagsIndex->{}
*)
(*CellTagsIndex
CellTagsIndex->{}
*)
(*NotebookFileOutline
Notebook[{
Cell[554, 20, 4535, 100, 346, "Input",ExpressionUUID->"3b898245-f0f1-4af7-8bb2-8041c693ba7b"],
Cell[CellGroupData[{
Cell[5114, 124, 451, 7, 23, "Input",ExpressionUUID->"ff79a4c0-23f5-4dd0-943b-e1761a9dd35e"],
Cell[5568, 133, 518, 7, 26, "Output",ExpressionUUID->"fa48666e-aba1-460a-8b01-e24ae008ce5c"]
}, Open  ]],
Cell[CellGroupData[{
Cell[6123, 145, 325, 6, 39, "ExternalLanguage",ExpressionUUID->"87314b05-8b00-4c05-82bf-abf0d4bbc5e3"],
Cell[6451, 153, 205, 3, 26, "Output",ExpressionUUID->"e4166ce7-a674-404e-b3d0-b2236ce6fbfa"]
}, Open  ]]
}
]
*)

